<html>
  <head>
    <meta charset="utf-8" />
    <title>shooterJs</title>
    <style>
      * { padding: 0; margin: 0; }
      canvas {
        background: #ebebeb;
        display: block;
        margin: 0 auto;
      }
    </style>
  </head>

  <body>
    <canvas id="js-canvas"></canvas>
  </body>

  <script type="text/javascript">
    var canvas = document.getElementById("js-canvas");
    canvas.setAttribute('width', 480);
    canvas.setAttribute('height', 320);

    var ctx = canvas.getContext("2d");

    // ship stuffs
    var shipHeight = 25;
    var shipWidth = 40;
    var shipX = (canvas.width/2)-(shipWidth/2); // middle
    var shipY = canvas.height; // bottom of screen
    var shipIndentOffset = 3;

    var flySpeed = 3;

    // user input
    var leftPressed = false;
    var rightPressed = false;

    function drawShip() {
      ctx.beginPath();
      ctx.moveTo(shipX,shipY);
      ctx.lineTo(shipX+(shipWidth/4)+shipIndentOffset,shipY-(shipHeight/3));
      ctx.lineTo(shipX+(shipWidth/2),shipY-shipHeight);
      ctx.lineTo(shipX+(shipWidth*3/4)-shipIndentOffset,shipY-(shipHeight/3));
      ctx.lineTo(shipX+shipWidth, shipY);
      ctx.fillStyle = "#0095DD";
      ctx.fill();
      ctx.closePath();
    }

    function draw() {
      ctx.clearRect(0,0,canvas.width,canvas.height);

      // move ship pos
      if (leftPressed && shipX > 0) {
        shipX -= flySpeed;
      }

      if (rightPressed && shipX < canvas.width-shipWidth) {
        shipX += flySpeed;
      }

      drawShip();
    }

    function keyDownHandler(e) {
      if(e.keyCode == 39) {
        rightPressed = true;
      }
      else if(e.keyCode == 37) {
        leftPressed = true;
      }
    }

    function keyUpHandler(e) {
      if(e.keyCode == 39) {
        rightPressed = false;
      }
      else if(e.keyCode == 37) {
        leftPressed = false;
      }
    }

    document.addEventListener("keydown", keyDownHandler, false);
    document.addEventListener("keyup", keyUpHandler, false);
    setInterval(draw, 10);
  </script>
</html>
